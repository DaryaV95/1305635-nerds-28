var btnMap=document.querySelector(".btn-map"),modal=document.querySelector(".modal"),modalClose=modal.querySelector(".modal-close"),modalForm=modal.querySelector(".modal-form"),modalLogin=modal.querySelector(".modal-login-name"),modalEmail=modal.querySelector(".modal-email"),storage=localStorage.getItem("modal-login-name");btnMap.addEventListener("click",function(o){event.preventDefault(),modal.classList.add("modal-show"),storage?(modalLogin.value=storage,modalEmail.focus()):modalLogin.focus()}),modalClose.addEventListener("click",function(o){o.preventDefault(),modal.classList.remove("modal-show"),modal.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(o){modalLogin.value&&modalEmail.value?isStorageSupport&&(localStorage.setItem("login",modalLogin.value),localStorage.setItem("mail",modalEmail.value)):(o.preventDefault(),modal.classList.remove("modal-error"),modal.offsetWidth,modal.classList.add("modal-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&modal.classList.contains("modal-show")&&(modal.classList.remove("modal-show"),modal.classList.remove("modal-error"))});